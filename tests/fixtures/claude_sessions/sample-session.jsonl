{"type":"user","message":{"role":"user","content":"Help me refactor this code"},"timestamp":"2025-01-10T10:30:00.000Z","cwd":"/home/user/project","sessionId":"abc123","uuid":"msg1","parentUuid":null,"isMeta":false}
{"type":"assistant","message":{"role":"assistant","content":[{"type":"text","text":"I'll help you refactor that code. Let me first read the file..."}]},"timestamp":"2025-01-10T10:30:05.000Z","cwd":"/home/user/project","sessionId":"abc123","uuid":"msg2","parentUuid":"msg1","isMeta":false}
{"type":"system","subtype":"local_command","command":["cat","src/main.rs"],"stdout":"fn main() { println!(\"Hello\"); }","timestamp":"2025-01-10T10:30:10.000Z","cwd":"/home/user/project","sessionId":"abc123","uuid":"msg3","parentUuid":"msg2","isMeta":true}
{"type":"assistant","message":{"role":"assistant","content":[{"type":"thinking","thinking":"The code is simple, I should make it more modular."},{"type":"text","text":"I can see the code is very simple. Let me refactor it to be more modular."}]},"timestamp":"2025-01-10T10:30:15.000Z","cwd":"/home/user/project","sessionId":"abc123","uuid":"msg4","parentUuid":"msg3","isMeta":false}
{"type":"summary","summary":"Refactored simple Rust application","leafUuid":"msg4","timestamp":"2025-01-10T10:30:20.000Z","cwd":"/home/user/project","sessionId":"abc123"}
